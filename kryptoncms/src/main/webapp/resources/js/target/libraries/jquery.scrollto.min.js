(function(e,t){var n,r;n=e.jQuery,r=n.ScrollTo=n.ScrollTo||{config:{duration:400,easing:"swing",callback:t,durationMode:"each",offsetTop:0,offsetLeft:0},configure:function(e){return n.extend(r.config,e||{}),this},scroll:function(t,i){var s,o,u,a,f,c,h,v,m,g;return s=t.pop(),o=s.$container,u=o.get(0),a=s.$target,f=n("<span/>").css({position:"absolute",top:"0px",left:"0px"}),c=o.css("position"),o.css("position","relative"),f.appendTo(o),s=f.offset().top,s=a.offset().top-s-parseInt(i.offsetTop,10),h=f.offset().left,v=a.offset().left-h-parseInt(i.offsetLeft,10),a=u.scrollTop,h=u.scrollLeft,f.remove(),o.css("position",c),m={},g=function(e){return 0===t.length?"function"==typeof i.callback&&i.callback.apply(this,[e]):r.scroll(t,i),!0},i.onlyIfOutside&&(f=a+o.height(),c=h+o.width(),a<s&&s<f&&(s=a),h<v&&v<c&&(v=h)),s!==a&&(m.scrollTop=s),v!==h&&(m.scrollLeft=v),n.browser.safari&&u===document.body?(e.scrollTo(m.scrollLeft,m.scrollTop),g()):m.scrollTop||m.scrollLeft?o.animate(m,i.duration,i.easing,g):g(),!0},fn:function(e){var t,i,s;t=[];var o=n(this);if(0===o.length)return this;e=n.extend({},r.config,e),i=o.parent();for(s=i.get(0);1===i.length&&s!==document.body&&s!==document;){var u;u="visible"!==i.css("overflow-y")&&s.scrollHeight!==s.clientHeight,s="visible"!==i.css("overflow-x")&&s.scrollWidth!==s.clientWidth;if(u||s)t.push({$container:i,$target:o}),o=i;i=i.parent(),s=i.get(0)}return t.push({$container:n(n.browser.msie||n.browser.mozilla?"html":"body"),$target:o}),"all"===e.durationMode&&(e.duration/=t.length),r.scroll(t,e),this}},n.fn.ScrollTo=n.ScrollTo.fn})(window);