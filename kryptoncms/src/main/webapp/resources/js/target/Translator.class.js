define(["jquery","libraries/mootools-base","FormSerializer.class","libraries/jquery.tmpl"],function(e,t,n){var r=new t.Class({Implements:[t.Options],options:{},langs:["ARABIC","BULGARIAN","CATALAN","CHINESE_SIMPLIFIED","CHINESE_TRADITIONAL","CZECH","DANISH","DUTCH","ENGLISH","ESTONIAN","FINNISH","FRENCH","GERMAN","GREEK","HAITIAN_CREOLE","HEBREW","HINDI","HMONG_DAW","HUNGARIAN","INDONESIAN","ITALIAN","JAPANESE","KOREAN","LATVIAN","LITHUANIAN","NORWEGIAN","POLISH","PORTUGUESE","ROMANIAN","RUSSIAN","SLOVAK","SLOVENIAN","SPANISH","SWEDISH","THAI","TURKISH","UKRAINIAN","VIETNAMESE"],$genericForms:null,initialize:function(){this.$genericForms=e("form[data-generic-translation]"),this.populateLangs(),this.attachSubmitEvent()},populateLangs:function(){this.$genericForms.each(e.proxy(function(t,n){var r=e("#options-templ").tmpl(this.langs),i=r.clone();e(n).find("select[name=toLang]").html(r),e(n).find("select[name=fromLang]").html(i)},this))},attachSubmitEvent:function(){var t=this;this.$genericForms.each(function(t,r){e(r).submit(function(t){t.preventDefault();var r=e(this);return e.get(r.attr("action"),(new n({format:"urlencoded"})).serialize(r),function(e){r.find("#to").text(e)}),!1})})}});return r});