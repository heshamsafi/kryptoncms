define(["jquery","libraries/mootools-base","libraries/jquery.tmpl"],function(e,t){var n=new t.Class({initialize:function(){this.$elements=e("[data-enable-pagination]"),this.$tmpl=e("script#pagination-templ")},generatePaginationElement:function(){var t=this;this.$elements.each(function(n,r){r=e(r);var i={pages:[]},s=parseInt(r.attr("data-pagination-page-no"));for(var o=1;o<=Math.ceil(parseInt(r.attr("data-pagination-total-size"))/parseInt(r.attr("data-pagination-page-size")));o++)window.location.search.match(/^\?.*[^\?]$/)==null?link="?pageNo="+o:window.location.search.match(/pageNo=\d+/)==null?link=window.location.search+"&"+"pageNo="+o:link=window.location.search.replace(/pageNo=\d+/,"pageNo="+o),i.pages.push({caption:o,link:link,active:s===o});t.$tmpl.tmpl(i).insertAfter(r)})}});return n});